---
alwaysApply: true
---
ALWAYS create version control documentation when updating versioned files (files with version numbers like v2, v3, etc.). This is MANDATORY for every version update.

## Version Control Automation Rules

### When to Trigger Version Control
- When a file name contains version pattern: `* v{number}.md` or `* v{number}.{ext}`
- When user explicitly requests version update (e.g., "update v2 to v3", "create new version")
- When making significant changes to versioned documentation files

### Version Control Process

**Step 1: Identify Base File**
- Find the current version file (e.g., `MAIN PROMPT v2.md`)
- Read it as context for updates
- Extract current version number and date

**Step 2: Create New Version File**
- Copy base file to new version (e.g., `MAIN PROMPT v3.md`)
- Place new file next to the previous version in the same directory
- Update version number in file content:
  - Update "Version:" field in Version History section
  - Update "Last Updated:" date
  - Update "Previous Version:" reference

**Step 3: Apply Updates**
- Make requested changes to the new version file
- Update relevant sections based on user requirements
- Ensure all version references are updated

**Step 4: Create Version Control Changelog**
- Location: `Dropbox/Nov25/AI/Niko AI/Version Control`
- File name format: `VC {FILE NAME}.md` (e.g., `VC MAIN PROMPT.md`)
- If VC file doesn't exist, create it with header structure
- If VC file exists, prepend new changelog entry

**Step 5: Document Changes**
Add changelog entry with format:
```markdown
### Version {new_version} → Current
**Date:** {current_date}
**Previous Version:** {old_version} ({old_date})

#### Changelog {old_version} → {new_version}

**{Category}: {Title}**
- Detailed change description
- Specific sections/files modified
- Line numbers if significant

**Files Created/Modified:**
- Created: {new_file_path}
- Modified: {modified_file_paths}

**Integration Points:**
- Related files or systems affected
```

### File Naming Conventions
- Version files: `{BASE_NAME} v{number}.{ext}`
- Version control files: `VC {BASE_NAME}.md`
- Base name extraction: Remove version pattern and extension

### Version Control File Structure
```markdown
# Version Control: {FILE_NAME}

## File Information
**File Name:** {BASE_NAME}
**Location:** {FILE_PATH}
**Current Version:** v{number}
**Last Updated:** {DATE}

---

## Version History

### Version {new} → Current
[Changelog entry]

### Version {old}
[Previous changelog]

---

## Version Control Automation

**Automation Created:** {DATE}
**Process:** [Brief description]
**Future Updates:** [Guidelines]
```

### Examples

**Example 1: MAIN PROMPT file**
- Base file: `MAIN PROMPT v2.md`
- New version: `MAIN PROMPT v3.md`
- VC file: `Dropbox/Nov25/AI/Niko AI/Version Control/VC MAIN PROMPT.md`

**Example 2: Department Guide**
- Base file: `DEPARTMENT_GUIDE v1.md`
- New version: `DEPARTMENT_GUIDE v2.md`
- VC file: `Dropbox/Nov25/AI/Niko AI/Version Control/VC DEPARTMENT_GUIDE.md`

### Important Notes
- Always preserve previous version history in VC file
- Document all significant changes, not just major ones
- Include integration points and related files
- Update both the versioned file AND the VC file
- Maintain chronological order (newest first) in VC file
